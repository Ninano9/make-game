// 게임 설정
const GAME_CONFIG = {
    CANVAS_WIDTH: 1200,
    CANVAS_HEIGHT: 800,
    GRAVITY: 0.5,
    JUMP_POWER: -12,
    PLAYER_SPEED: 4,
    INVINCIBILITY_TIME: 300, // 0.3초
    AUTO_SAVE_INTERVAL: 30000 // 30초마다 자동 저장
};

// 직업 정보
const CLASSES = {
    "전사": {
        이름: "전사",
        아이콘: "⚔️",
        기본능력치: {
            HP: 120,
            MP: 40,
            공격력: 12,
            마법력: 0,
            방어력: 6,
            마법저항: 3,
            치확: 5,
            치피: 150,
            이속: 3.6,
            공속: 1.0
        },
        레벨당증가: {
            HP: 12,
            MP: 3,
            공격력: 2,
            방어력: 1,
            마법저항: 0.5
        },
        스킬: [
            {
                이름: "회전 베기",
                키: "X",
                종류: "물리",
                계수: 1.4,
                MP: 10,
                쿨타임: 4,
                효과: ["광역"],
                설명: "주변 360° 공격"
            },
            {
                이름: "강타",
                키: "C",
                종류: "물리",
                계수: 2.2,
                MP: 15,
                쿨타임: 6,
                효과: ["경직강"],
                설명: "강력한 단일 공격"
            },
            {
                이름: "철벽 자세",
                키: "V",
                종류: "버프",
                지속: 5,
                받는피해감소: 0.3,
                MP: 18,
                쿨타임: 15,
                설명: "5초간 피해 감소"
            }
        ]
    },
    "궁수": {
        이름: "궁수",
        아이콘: "🏹",
        기본능력치: {
            HP: 80,
            MP: 50,
            공격력: 13,
            마법력: 0,
            방어력: 3,
            마법저항: 3,
            치확: 12,
            치피: 170,
            이속: 3.8,
            공속: 1.15
        },
        레벨당증가: {
            HP: 8,
            MP: 4,
            공격력: 2.5,
            치확: 0.3
        },
        스킬: [
            {
                이름: "연속 사격",
                키: "X",
                종류: "물리",
                히트수: 3,
                히트계수: 0.8,
                MP: 10,
                쿨타임: 5,
                설명: "연속으로 3발 발사"
            },
            {
                이름: "관통 화살",
                키: "C",
                종류: "물리",
                계수: 1.8,
                관통감소: 0.2,
                최소계수: 0.6,
                MP: 14,
                쿨타임: 7,
                설명: "관통하는 화살"
            },
            {
                이름: "급소 명중",
                키: "V",
                종류: "버프",
                지속: 6,
                치확증가: 20,
                치피증가: 20,
                MP: 20,
                쿨타임: 18,
                설명: "치명타율과 피해 증가"
            }
        ]
    },
    "마법사": {
        이름: "마법사",
        아이콘: "🔮",
        기본능력치: {
            HP: 70,
            MP: 90,
            공격력: 0,
            마법력: 16,
            방어력: 2,
            마법저항: 5,
            치확: 8,
            치피: 160,
            이속: 3.5,
            공속: 0.95
        },
        레벨당증가: {
            HP: 6,
            MP: 10,
            마법력: 3,
            마법저항: 1
        },
        스킬: [
            {
                이름: "파이어볼",
                키: "X",
                종류: "마법",
                계수: 1.6,
                화상초당: 12,
                화상지속: 3,
                MP: 14,
                쿨타임: 5,
                설명: "폭발하는 화염구"
            },
            {
                이름: "아이스 스파이크",
                키: "C",
                종류: "마법",
                계수: 1.4,
                둔화: 30,
                둔화지속: 3,
                MP: 16,
                쿨타임: 6,
                설명: "얼음 가시로 둔화"
            },
            {
                이름: "메테오",
                키: "V",
                종류: "마법",
                계수: 2.2,
                기절: 2,
                보스기절확률: 50,
                MP: 35,
                쿨타임: 20,
                설명: "운석 낙하 공격"
            }
        ]
    }
};

// 레벨별 필요 경험치
const LEVEL_REQUIREMENTS = [];
for (let level = 1; level <= 30; level++) {
    LEVEL_REQUIREMENTS[level] = 40 + Math.floor(level * level * 2.2);
}

// 지역 정보
const AREAS = {
    "초록 들판": {
        이름: "초록 들판",
        추천레벨: [1, 5],
        배경색: "#4CAF50",
        몬스터: ["슬라임", "아기버그"],
        특성: "지형 단순, 튜토리얼"
    },
    "고블린 숲": {
        이름: "고블린 숲",
        추천레벨: [6, 12],
        배경색: "#2E7D32",
        몬스터: ["고블린 전사", "고블린 궁수"],
        특성: "낙사 구간, 원거리 적"
    },
    "얼음 동굴": {
        이름: "얼음 동굴",
        추천레벨: [10, 18],
        배경색: "#03A9F4",
        몬스터: ["얼음 늑대", "아이스 고스트"],
        특성: "미끄럼 타일, 둔화 공격"
    },
    "용의 협곡": {
        이름: "용의 협곡",
        추천레벨: [15, 25],
        배경색: "#FF5722",
        몬스터: ["오크 전사", "용족 정찰병"],
        특성: "낙석 함정, 좁은 발판"
    },
    "화산 심장부": {
        이름: "화산 심장부",
        추천레벨: [22, 30],
        배경색: "#D32F2F",
        몬스터: ["마그마 골렘", "화염 정령"],
        특성: "용암 바닥(화상), 보스 방"
    }
};

// 몬스터 정보
const MONSTERS = {
    "슬라임": {
        이름: "슬라임",
        레벨: 2,
        HP: 40,
        방어력: 1,
        공격력: 6,
        경험치: 8,
        골드: [3, 8],
        아이콘: "🟢",
        AI: "기본순찰",
        드랍: [
            { 아이템: "체력 포션(작)", 확률: 20 },
            { 아이템: "골드", 확률: 100 }
        ]
    },
    "아기버그": {
        이름: "아기버그",
        레벨: 3,
        HP: 55,
        방어력: 1,
        공격력: 7,
        경험치: 12,
        골드: [5, 10],
        아이콘: "🐛",
        AI: "원거리",
        드랍: [
            { 아이템: "화살뭉치", 확률: 15 },
            { 아이템: "골드", 확률: 100 }
        ]
    },
    "고블린 전사": {
        이름: "고블린 전사",
        레벨: 7,
        HP: 120,
        방어력: 3,
        공격력: 14,
        경험치: 24,
        골드: [12, 20],
        아이콘: "👹",
        AI: "적극적",
        드랍: [
            { 아이템: "철갑 조각", 확률: 10 },
            { 아이템: "골드", 확률: 100 }
        ]
    },
    "고블린 궁수": {
        이름: "고블린 궁수",
        레벨: 8,
        HP: 90,
        방어력: 2,
        공격력: 12,
        경험치: 26,
        골드: [12, 18],
        아이콘: "🏹",
        AI: "원거리",
        드랍: [
            { 아이템: "활줄", 확률: 8 },
            { 아이템: "골드", 확률: 100 }
        ]
    },
    "얼음 늑대": {
        이름: "얼음 늑대",
        레벨: 13,
        HP: 180,
        방어력: 4,
        공격력: 22,
        경험치: 40,
        골드: [20, 35],
        아이콘: "🐺",
        AI: "돌진",
        특수효과: "둔화",
        드랍: [
            { 아이템: "늑대 가죽", 확률: 12 },
            { 아이템: "골드", 확률: 100 }
        ]
    },
    "아이스 고스트": {
        이름: "아이스 고스트",
        레벨: 15,
        HP: 210,
        방어력: 2,
        마법저항: 5,
        공격력: 18,
        경험치: 48,
        골드: [25, 40],
        아이콘: "👻",
        AI: "부유",
        특수효과: "마법저항",
        드랍: [
            { 아이템: "얼음 정수", 확률: 15 },
            { 아이템: "골드", 확률: 100 }
        ]
    }
};

// 아이템 정보
const ITEMS = {
    소비아이템: {
        "체력 포션(작)": {
            이름: "체력 포션(작)",
            종류: "소비",
            효과: { HP회복: 80 },
            가격: 50,
            아이콘: "🧪",
            설명: "즉시 HP 80 회복"
        },
        "체력 포션(중)": {
            이름: "체력 포션(중)",
            종류: "소비",
            효과: { HP회복: 180 },
            가격: 120,
            아이콘: "🧪",
            설명: "즉시 HP 180 회복"
        },
        "체력 포션(대)": {
            이름: "체력 포션(대)",
            종류: "소비",
            효과: { HP회복: 380 },
            가격: 260,
            아이콘: "🧪",
            설명: "즉시 HP 380 회복"
        },
        "마나 포션(작)": {
            이름: "마나 포션(작)",
            종류: "소비",
            효과: { MP회복: 50 },
            가격: 60,
            아이콘: "🔮",
            설명: "즉시 MP 50 회복"
        },
        "마나 포션(중)": {
            이름: "마나 포션(중)",
            종류: "소비",
            효과: { MP회복: 120 },
            가격: 140,
            아이콘: "🔮",
            설명: "즉시 MP 120 회복"
        },
        "마나 포션(대)": {
            이름: "마나 포션(대)",
            종류: "소비",
            효과: { MP회복: 250 },
            가격: 300,
            아이콘: "🔮",
            설명: "즉시 MP 250 회복"
        }
    },
    장비: {
        무기: {
            "기본 검": {
                이름: "기본 검",
                종류: "무기",
                직업제한: "전사",
                옵션: { 공격력: 15 },
                등급: "일반",
                가격: 300,
                아이콘: "⚔️"
            },
            "기본 활": {
                이름: "기본 활",
                종류: "무기",
                직업제한: "궁수",
                옵션: { 공격력: 18, 치확: 3 },
                등급: "일반",
                가격: 300,
                아이콘: "🏹"
            },
            "기본 지팡이": {
                이름: "기본 지팡이",
                종류: "무기",
                직업제한: "마법사",
                옵션: { 마법력: 20 },
                등급: "일반",
                가격: 300,
                아이콘: "🔮"
            }
        }
    }
};

// 상태 이상 정보
const STATUS_EFFECTS = {
    화상: {
        이름: "화상",
        아이콘: "🔥",
        색상: "#ff4444",
        지속: 3000,
        틱간격: 1000,
        효과: "초당 피해"
    },
    빙결: {
        이름: "빙결",
        아이콘: "❄️",
        색상: "#4444ff",
        지속: 1000,
        효과: "이동불가"
    },
    둔화: {
        이름: "둔화",
        아이콘: "🐌",
        색상: "#888888",
        지속: 2000,
        효과: "이동속도 감소"
    },
    기절: {
        이름: "기절",
        아이콘: "💫",
        색상: "#ffff44",
        지속: 2000,
        효과: "행동불가"
    }
};

// 키 바인딩
const KEY_BINDINGS = {
    이동좌: "ArrowLeft",
    이동우: "ArrowRight",
    점프: " ", // Space
    기본공격: "z",
    스킬1: "x",
    스킬2: "c",
    스킬3: "v",
    체력포션: "a",
    마나포션: "s",
    메뉴: "Escape",
    인벤토리: "i",
    맵: "m"
};

// 경제 설정
const ECONOMY = {
    강화비용: [200, 400, 700, 1100, 1600],
    사망골드손실율: 0.1,
    상점갱신주기: 300000 // 5분
};
